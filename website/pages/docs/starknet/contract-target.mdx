# Starknet Contract Target

The `starknet-contract` target allows to build the package as a [Starknet Contract](https://docs.starknet.io/documentation/getting_started/intro/).
It searches for all contract classes in the package, and builds a separate compiled JSON file each found class.
Generated file will be named with following pattern: `[package name]_[contract name].sierra.json`.

This target accepts several configuration arguments, beside ones [shared among all targets](../reference/targets#configuring-a-target), with default values for the default _release_ profile:

```toml
[[target.starknet-contract]]
# Enable Sierra codegen.
sierra = true

# Enable CASM codegen.
casm = false
# Emit Python-powered hints in order to run compiled CASM class with legacy Cairo VM.
casm-add-pythonic-hints = false
```

## Usage

To enable Starknet contract compilation for a package, write a following line in `Scarb.toml`:

```toml copy
[[target.starknet-contract]]
```

Then, declare a dependency on the [`starknet` package](/docs/starknet/starknet-package).
Its version is coupled to Cairo version included in Scarb.

```toml copy
[dependencies]
starknet = ">=1.0.0"
```

## Sierra contract class generation

The enabled by default property `sierra{:toml}` determines whether this target builds a Sierra [Contract Class] file.

## CASM contract class generation

Historically, contract classes have been defined in terms of Cairo assembly, or CASM for short (the class definition also included more information needed for execution, e.g., hint data).
The novelty of Cairo 1.0 is the introduction of Sierra, an intermediate layer between Cairo 1.0 and CASM.

When executing a contract on Starknet, the Sequencer downloads a [Contract Class] which contains Sierra bytecode.
It is a role of the Sequencer to compile it to CASM, which is a language that you can physically execute and generate proof of such execution.
If for any reason, there is a need to compile Sierra contract to CASM locally, Scarb can do that by turning the off by default property `casm{:toml}`.
If enabled, Scarb will emit the CASM Contract Class file in the target directory to a file named with following pattern: `[package name]_[contract name].casm.json`.

Historically, Cairo used to use Python as the language powering the [Hints].
CASM contract classes can be still executed on the legacy Python-based Cairo VM, under condition that they include Python version of hints generated by Sierra, which now is an optional feature.
The off by default `casm-add-pythonic-hints{:toml}` property enables Scarb to add it to produced artifacts.

[contract class]: https://docs.starknet.io/documentation/architecture_and_concepts/Contracts/contract-classes/
[hints]: https://www.cairo-lang.org/docs/how_cairo_works/hints.html
