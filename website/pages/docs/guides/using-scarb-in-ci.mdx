# Using Scarb in CI

To use Scarb in your CI workflow, you need to download the Scarb binary, unpack the archive, and add the directory
containing Scarb binary to your PATH variable.

## GitHub Actions

You can find an example of the Scarb setup in the following `.github/workflows/build.yml` file.

```yaml copy
name: Build Scarb project

on:
  workflow_dispatch:

env:
  SCARB_VERSION: v0.1.0

jobs:
  build:
    name: build
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Setup Scarb
        run: |
          wget https://github.com/software-mansion/scarb/releases/download/${{ env.SCARB_VERSION }}/scarb-${{ env.SCARB_VERSION }}-x86_64-unknown-linux-gnu.tar.gz
          tar -xvzf scarb-${{ env.SCARB_VERSION }}-x86_64-unknown-linux-gnu.tar.gz
          echo "$GITHUB_WORKSPACE/scarb-${{ env.SCARB_VERSION }}-x86_64-unknown-linux-gnu/bin" >> $GITHUB_PATH

      - run: scarb build
```

## GitLab CI

You can find an example of the Scarb setup in the following GitLab CI configuration.

```yaml copy
variables:
  SCARB_VERSION: "v0.1.0"

stages:
  - build

scarb:
  stage: build
  image: ubuntu:jammy
  script:
    - apt-get update && apt-get install -y wget
    - wget https://github.com/software-mansion/scarb/releases/download/$SCARB_VERSION/scarb-$SCARB_VERSION-x86_64-unknown-linux-gnu.tar.gz && tar -xvzf scarb-$SCARB_VERSION-x86_64-unknown-linux-gnu.tar.gz && export PATH="$PATH:$CI_BUILDS_DIR/$CI_PROJECT_PATH/scarb-$SCARB_VERSION-x86_64-unknown-linux-gnu/bin"
    - scarb build
```

## CircleCI

You can find an example of the Scarb setup in the following `.circleci/config.yml` file.

```yaml copy
version: 2.1

jobs:
  build:
    docker:
      - image: cimg/base:2023.03
    steps:
      - checkout
      - run:
          name: Setup Scarb
          command: |
            wget https://github.com/software-mansion/scarb/releases/download/$SCARB_VERSION/scarb-$SCARB_VERSION-x86_64-unknown-linux-gnu.tar.gz
            tar -xvzf scarb-$SCARB_VERSION-x86_64-unknown-linux-gnu.tar.gz
            echo 'export PATH="$PATH:$CIRCLE_WORKING_DIRECTORY/scarb-$SCARB_VERSION-x86_64-unknown-linux-gnu/bin"' >> "$BASH_ENV"
      - run: scarb build
    environment:
      SCARB_VERSION: v0.1.0

workflows:
  build:
    jobs:
      - build
```
